// index.htmlì˜ <script> ë¶€ë¶„ì— ë®ì–´ì“°ì„¸ìš”
async function handleSearch() {
    const query = document.getElementById('searchInput').value;
    const resultList = document.getElementById('resultList');
    resultList.innerHTML = '';

    if (query.length >= 2) { // 2ì ì´ìƒ [cite: 2026-02-16]
        const { data, error } = await supabase
            .from('tags') // í…Œì´ë¸” ì´ë¦„ 'tags'ë¡œ ìˆ˜ì • [cite: 2026-02-15]
            .select('*')
            .ilike('items', `%${query}%`); // items ì»¬ëŸ¼ì—ì„œ ê²€ìƒ‰ [cite: 2026-02-15]

        if (data) {
            data.forEach(tag => {
                const div = document.createElement('div');
                div.className = 'result-item';
                // display_nameì„ ì„œë ìœ„ì¹˜ë¡œ, itemsë¥¼ ë³´ê´€ ë¬¼í’ˆìœ¼ë¡œ í‘œì‹œ [cite: 2026-02-16]
                div.innerHTML = `
                    <span>ğŸ“¦ ${query} â†’ <strong>${tag.display_name}</strong></span>
                    <button onclick="location.href='drawer.html?id=${tag.id}'">ìƒì„¸ë³´ê¸°</button>
                `;
                resultList.appendChild(div);
            });
        }
    }
}
