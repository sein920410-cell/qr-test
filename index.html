<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ê³µê°„:ê²° - ê²€ìƒ‰</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="search-container">
  <h2 style="margin-bottom: 20px;">ğŸ” ë¬´ì—‡ì„ ì°¾ìœ¼ì‹œë‚˜ìš”?</h2>
  <input type="text" id="main-search" class="search-box" placeholder="ë¬¼ê±´ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" oninput="searchItems()">
  <div id="result-list"></div>
</div>

<script>
function searchItems() {
  const query = document.getElementById('main-search').value.trim().toLowerCase();
  const list = document.getElementById('result-list');
  list.innerHTML = ''; 
  if(!query) return;

  const inventory = [];
  // ëª¨ë“  ì„œë ë°ì´í„° ìˆ˜ì§‘
  for (let i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);
    if (key.startsWith('gyeol_')) {
      const tag = key.replace('gyeol_', '');
      const items = JSON.parse(localStorage.getItem(key));
      items.forEach(it => inventory.push({ ...it, tag }));
    }
  }

  const results = inventory.filter(it => it.n.toLowerCase().includes(query));
  results.forEach(it => {
    list.innerHTML += `
      <div class="result-item" onclick="location.href='drawer.html?tag=${it.tag}'">
        <span>${it.n} <small style="color:#888;">(${it.tag})</small></span>
        <button class="move-btn">ì´ë™</button>
      </div>`;
  });
}
</script>
</body>
</html>
